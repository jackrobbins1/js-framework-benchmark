function M(t,e){let r=t.length;if(r!==e.length)return!1;for(let o=0;o<r;o++)if(t[o]!==e[o])return!1;return!0}var b=t=>typeof t=="function",E=t=>typeof t=="object",{isArray:W}=Array;function R(t,e){let r,o=s=>{let{length:i}=s;for(let c=0;c<i;c++){let l=s[c];if(l&&Array.isArray(l))o(l);else{let n=typeof l;if(l==null||n==="function"||n==="boolean")continue;n==="string"||n==="number"?(r==null&&(r=""),r+=l):(r!=null&&(e(r),r=null),e(l))}}};o(t),r!=null&&e(r)}var L=class{constructor(e,r,o){this.message=r,this.target=e,this.value=o}};var $=null,ft={true:1,"":1,1:1};function z(t,e,r,o,s){let{type:i,reflect:c,event:l,value:n,attr:f=ut(e)}=E(r)&&r!=$?r:{type:r},m=!(i==Function||i==$);Object.defineProperty(t,e,{configurable:!0,set(p){let a=this[e],{error:h,value:N}=pt(i,m&&b(p)?p(a):p);if(h&&N!=null)throw new L(this,`The value defined for prop '${e}' must be of type '${i.name}'`,N);a!=N&&(this._props[e]=N,this.update(),l&&v(this,l),this.updated.then(()=>{c&&(this._ignoreAttr=f,at(this,i,f,this[e]),this._ignoreAttr=null)}))},get(){return this._props[e]}}),n!=null&&(s[e]=n),o[f]={prop:e,type:i}}var v=(t,{type:e,base:r=CustomEvent,...o})=>t.dispatchEvent(new r(e,o)),ut=t=>t.replace(/([A-Z])/g,"-$1").toLowerCase(),at=(t,e,r,o)=>o==null||e==Boolean&&!o?t.removeAttribute(r):t.setAttribute(r,E(o)?JSON.stringify(o):e==Boolean?"":o),G=(t,e)=>t==Boolean?!!ft[e]:t==Number?Number(e):t==Array||t==Object?JSON.parse(e):e,pt=(t,e)=>t==null||e==null?{value:e,error:!1}:t!=String&&e===""?{value:null,error:!1}:t==Object||t==Array||t==Symbol?{value:e,error:{}.toString.call(e)!==`[object ${t.name}]`}:e instanceof t?{value:e,error:t==Number&&Number.isNaN(e.valueOf())}:t==String||t==Number||t==Boolean?{value:e,error:t==Number?typeof e!="number"?!0:Number.isNaN(e):t==String?typeof e!="string":typeof e!="boolean"}:{value:e,error:!0};var y;function S(t,e,r){let{i:o,hooks:s}=y,i=s[o]=s[o]||{};return i[0]=t(i[0]),i[1]=e,i[2]=r,y.i++,s[o][0]}var K=t=>S((e={current:t})=>e),k=()=>K(y.host),H=()=>y.update;function Y(t,e){let r={};function o(c,l){for(let n in r){let f=r[n];f[c]&&(f[0]=f[c](f[0],l))}}function s(c){y={host:e,hooks:r,update:t,i:0};let l;try{l=c()}finally{y=null}return l}function i(c){return o(1,c),()=>{o(2,c),c&&(r={})}}return{load:s,cleanEffects:i}}var O={sheet:!!document.adoptedStyleSheets};function x(t,e=HTMLElement){let r={},o={},{props:s,styles:i}=t;return class extends e{constructor(){super();this._setup(),this._render=()=>t({...this._props});for(let l in o)this[l]=o[l]}static get styles(){return[super.styles,i]}async _setup(){if(this._props)return;this._props={},this.mounted=new Promise(p=>this.mount=p),this.unmounted=new Promise(p=>this.unmount=p),this.symbolId=this.symbolId||Symbol();let l=Y(()=>this.update(),this),n,f=!0,m="hydrate"in(this.dataset||{});this.update=()=>(n||(n=!0,this.updated=(this.updated||this.mounted).then(()=>{try{let p=l.load(this._render);return p&&p.render(this,this.symbolId,m),n=!1,f&&(f=!1,!m&&mt(this)),l.cleanEffects()}finally{n=!1}}).then(p=>{p&&p()})),this.updated),this.update(),await this.unmounted,l.cleanEffects(!0)()}connectedCallback(){this.mount(),super.connectedCallback&&super.connectedCallback()}async disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),await this.mounted,!this.isConnected&&this.unmount()}attributeChangedCallback(l,n,f){if(r[l]){if(l===this._ignoreAttr||n===f)return;let{prop:m,type:p}=r[l];this[m]=G(p,f)}else super.attributeChangedCallback(l,n,f)}static get props(){return{...super.props,...s}}static get observedAttributes(){let l=super.observedAttributes||[];for(let n in s)z(this.prototype,n,s[n],r,o);return Object.keys(r).concat(l)}}}function mt(t){let{styles:e}=t.constructor,{shadowRoot:r}=t;if(r&&e.length)if(O.sheet){let o=[];R(e,s=>s&&o.push(s)),r.adoptedStyleSheets=o}else R(e,o=>o&&r.appendChild(o.cloneNode(!0)))}var X=t=>(e,r)=>{let o=([s,i],c)=>{if(c)b(s)&&s();else return[s||e(),i]};S(([s,i]=[])=>((i||!i)&&(i&&M(i,r)?s=s||!0:(b(s)&&s(),s=null)),[s,r]),t==1&&o,t==2&&o)},Ft=X(1),Bt=X(2);function _(t,e={}){let r=k();return r[t]||(r[t]=(o=e.detail)=>v(r.current,{type:t,...e,detail:o})),r[t]}function Z(t,e,r){let o=H();return S((s=[])=>(s[1]||(s[0]=r!==void 0?r(e):e,s[1]=i=>{let c=t(s[0],i);c!=s[0]&&(s[0]=c,o())}),s))}var ht={checked:1,value:1,selected:1},dt={list:1,type:1,size:1,form:1,width:1,height:1,src:1,href:1,slot:1},bt={shadowDom:1,staticNode:1,cloneNode:1,children:1,key:1},C={},Q=[],T=document,P=class extends Text{},I=Symbol.for,Et=I("Atomico.ID"),U=I("Atomico.$$"),F=I("Atomico.REF");function yt(t,e,r){return D(this,t,e,r)}function u(t,e,...r){let o=e||C,{children:s}=o;s=s??(r.length?r:Q);let i=t?t instanceof Node?1:t.prototype instanceof HTMLElement&&2:!1;return{$$:U,type:t,props:o,children:s,key:o.key,shadow:o.shadowDom,static:o.staticNode,raw:i,is:o.is,clone:o.cloneNode,render:O.render||yt}}function D(t,e,r=Et,o,s){let i;if(e&&e[r]&&e[r].vnode==t||t.$$!=U)return e;(t||!e)&&(s=s||t.type=="svg",i=t.type!="host"&&(t.raw==1?(e&&t.clone?e[F]:e)!=t.type:t.raw==2?!(e instanceof t.type):e?e[F]||e.localName!=t.type:!e),i&&t.type!=null&&(t.raw==1&&t.clone?(o=!0,e=t.type.cloneNode(!0),e[F]=t.type):e=t.raw==1?t.type:t.raw==2?new t.type:s?T.createElementNS("http://www.w3.org/2000/svg",t.type):T.createElement(t.type,t.is?{is:t.is}:void 0)));let{vnode:c=C,cycle:l=0,fragment:n,handlers:f}=e[r]?e[r]:C,{children:m=Q,props:p=C}=c;if(f=i?{}:f||{},t.static&&!i)return e;if(t.shadow&&!e.shadowRoot&&e.attachShadow({mode:"open"}),t.props!=p&&Nt(e,p,t.props,f,s),t.children!==m){let a=t.shadow?e.shadowRoot:e;n=At(t.children,n,a,r,!l&&o,s&&t.type=="foreignObject"?!1:s)}return l++,e[r]={vnode:t,handlers:f,fragment:n,cycle:l},e}function St(t,e){let r=new P(""),o=new P(""),s=e&&t.querySelector(":scope > style[data-hydrate]");return t[e?"prepend":"append"](r),s?t.insertBefore(o,s):t.append(o),{markStart:r,markEnd:o}}function At(t,e,r,o,s,i){t=t==null?null:W(t)?t:[t];let c=e||St(r,s),{markStart:l,markEnd:n,keyes:f}=c,m,p=f&&new Set,a=l;if(t&&R(t,h=>{if(typeof h=="object"&&h.$$!=U)return;let j=h.$$&&h.key,J=f&&j!=null&&f.get(j);a!=n&&a===J?p.delete(a):a=a==n?n:a.nextSibling;let g=f?J:a,d=g;if(h.$$)d=D(h,g,o,s,i);else{let w=h+"";!(d instanceof Text)||d instanceof P?d=new Text(w):d.data!=w&&(d.data=w)}d!=a&&(f&&p.delete(d),!g||f?(r.insertBefore(d,a),f&&a!=n&&p.add(a)):g==n?r.insertBefore(d,n):(r.replaceChild(d,g),a=d)),j!=null&&(m=m||new Map,m.set(j,d))}),a=a==n?n:a.nextSibling,e&&a!=n)for(;a!=n;){let h=a;a=a.nextSibling,h.remove()}return p&&p.forEach(h=>h.remove()),c.keyes=m,c}function Nt(t,e,r,o,s){for(let i in e)!(i in r)&&V(t,i,e[i],null,s,o);for(let i in r)V(t,i,e[i],r[i],s,o)}function V(t,e,r,o,s,i){if(e=e=="class"&&!s?"className":e,r=r??null,o=o??null,e in t&&ht[e]&&(r=t[e]),!(o===r||bt[e]||e[0]=="_"))if(e[0]=="o"&&e[1]=="n"&&(b(o)||b(r)))gt(t,e.slice(2),o,i);else if(e=="ref")o&&(b(o)?o(t):o.current=t);else if(e=="style"){let c=t.style;r=r||"",o=o||"";let l=E(r),n=E(o);if(l)for(let f in r)if(n)!(f in o)&&tt(c,f,null);else break;if(n)for(let f in o){let m=o[f];l&&r[f]===m||tt(c,f,m)}else c.cssText=o}else{let c=e[0]=="$"?e.slice(1):e;c===e&&(!s&&!dt[e]&&e in t||b(o)||b(r))?t[e]=o??"":o==null?t.removeAttribute(c):t.setAttribute(c,E(o)?JSON.stringify(o):o)}}function gt(t,e,r,o){if(o.handleEvent||(o.handleEvent=s=>o[s.type].call(t,s)),r){if(!o[e]){let s=r.capture||r.once||r.passive?Object.assign({},r):null;t.addEventListener(e,o,s)}o[e]=r}else o[e]&&(t.removeEventListener(e,o),delete o[e])}function tt(t,e,r){let o="setProperty";r==null&&(o="removeProperty",r=null),~e.indexOf("-")?t[o](e,r):t[e]=r}var Re=new Map;var B=t=>Math.round(Math.random()*1e3)%t,et=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],rt=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],ot=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],Rt=1,q=t=>{for(var e=[],r=0;r<t;r++)e.push({id:Rt++,label:et[B(et.length)]+" "+rt[B(rt.length)]+" "+ot[B(ot.length)]});return e},st={data:[],selected:0},it=(t,e)=>{let{data:r,selected:o}=t;switch(e.type){case"RUN":return{data:q(1e3),selected:0};case"RUN_LOTS":return{data:q(1e4),selected:0};case"ADD":return{data:r.concat(q(1e3)),selected:o};case"UPDATE":{let s=r.slice(0);for(let i=0;i<s.length;i+=10){let c=s[i];s[i]={id:c.id,label:c.label+" !!!"}}return{data:s,selected:o}}case"CLEAR":return{data:[],selected:0};case"SWAP_ROWS":return r.length>998?{data:[r[0],r[998],...r.slice(2,998),r[1],r[999]],selected:o}:t;case"REMOVE":{let s=r.findIndex(i=>i.id===e.id);return{data:[...r.slice(0,s),...r.slice(s+1)],selected:o}}case"SELECT":return{data:r,selected:e.id};default:return t}};var A=({id:t,cb:e,title:r})=>u("div",{staticNode:!0,class:"col-sm-6 smallpad"},u("button",{type:"button",class:"btn btn-primary btn-block",id:t,onclick:e},r)),Ot=()=>{let t=_("ActionHeader",{bubbles:!0});return u("host",{class:"jumbotron"},u("div",{class:"row"},u("div",{class:"col-md-6"},u("h1",null,"Atomico")),u("div",{class:"col-md-6"},u("div",{class:"row"},A({id:"run",title:"Create 1,000 rows",cb:()=>t("RUN")}),A({id:"runlots",title:"Create 10,000 rows",cb:()=>t("RUN_LOTS")}),A({id:"add",title:"append 1,000 rows",cb:()=>t("ADD")}),A({id:"update",title:"Update every 10th row",cb:()=>t("UPDATE")}),A({id:"clean",title:"Clear",cb:()=>t("CLEAR")}),A({id:"swaprows",title:"Swap Rows",cb:()=>t("SWAP_ROWS")})))))};function lt({selected:t,id:e,label:r}){let o=_("ActionRow",{bubbles:!0});return u("host",{class:t?"danger":""},u("td",{class:"col-md-1",staticNode:!0},e),u("td",{class:"col-md-4"},u("a",{onclick:()=>o({type:"SELECT",id:e})},r)),u("td",{class:"col-md-1",staticNode:!0},u("a",{onclick:()=>o({type:"REMOVE",id:e})},u("span",{class:"glyphicon glyphicon-remove","aria-hidden":"true"}))),u("td",{class:"col-md-6",staticNode:!0}))}lt.props={selected:Boolean,id:Number,label:String};var nt=x(lt,HTMLTableRowElement),ct=x(Ot,HTMLDivElement),Pt=()=>{let[{data:t,selected:e},r]=Z(it,st);return u("host",{onActionRow:({detail:o})=>r(o),onActionHeader:({detail:o})=>r({type:o})},u("div",{class:"container"},u(ct,{renderOnce:!0,dispatch:r}),u("table",{class:"table table-hover table-striped test-data"},u("tbody",null,t.map(o=>u(nt,{key:o.id,id:o.id,selected:o.id===e,label:o.label})))),u("span",{class:"preloadicon glyphicon glyphicon-remove",staticNode:!0})))};customElements.define("main-element",x(Pt));customElements.define("main-element-jumbotron",ct,{extends:"div"});customElements.define("main-element-tr",nt,{extends:"tr"});
